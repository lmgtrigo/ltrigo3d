<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Loja Simples</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Animação ao adicionar produto */
    .add-animation {
      animation: bounce 0.4s ease;
    }

    @keyframes bounce {
      0% { transform: scale(1); }
      50% { transform: scale(1.2); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body class="bg-gray-100">

  <div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-4 text-center">Produtos</h1>

    <div id="product-list" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>

    <h2 class="text-2xl font-bold mt-8">Carrinho</h2>
    <div id="cart" class="bg-white p-4 rounded shadow mt-2"></div>
    <div id="cart-total" class="text-xl font-bold mt-2"></div>
    <button onclick="clearCart()" class="mt-4 bg-red-500 text-white px-4 py-2 rounded">Esvaziar Carrinho</button>
    <button onclick="checkout()" class="mt-4 bg-green-500 text-white px-4 py-2 rounded ml-2">Finalizar Pedido (MB WAY)</button>
  </div>

  <script>
    const products = [
      '1000.png', '11.PNG', '111.PNG', '1111.PNG', '11111.PNG', '1115.PNG', '112.PNG', '12.PNG',
      '1212123.PNG', '13.PNG', '14.PNG', '21111.PNG', '212111.PNG', '2122.PNG', '21231.PNG', '2222.PNG',
      '22222.PNG', '2323.PNG', '2323232.PNG', '3131111.PNG', '31312.PNG', '4211.PNG', '42134234.PNG', '42333.PNG',
      '4322111.PNG', '43222.PNG', '44.PNG', '45.PNG', '453645.PNG', '46.PNG', '47.PNG', '48.PNG', '49.PNG', '50.PNG',
      '51.PNG', '52.PNG', '53.PNG', '54.PNG', '54222.PNG', '55.PNG', '56.PNG', '57.PNG', '58.PNG', '59.PNG', '61.PNG',
      '62.PNG', '63.PNG', '64.PNG', '65.PNG', '65234223.PNG', '656554.PNG', '66.PNG', '67.PNG', '86856.PNG', '87878.PNG',
      '87878787.PNG', '8977.PNG', '987987.PNG', 'Captu1re.PNG', 'IMG_20250213_204047.jpg', 'IMG_20250302_204523.jpg',
      'IMG_20250304_122348.jpg', 'apple.PNG'
    ];

    const cart = [];
    let total = 0;

    const productList = document.getElementById('product-list');
    const cartElement = document.getElementById('cart');
    const cartTotalElement = document.getElementById('cart-total');

    products.forEach((product, index) => {
      const productCard = document.createElement('div');
      productCard.className = 'bg-white p-2 rounded shadow flex flex-col items-center';

      const img = document.createElement('img');
      img.src = product;
      img.alt = 'Produto';
      img.className = 'w-full h-32 object-contain mb-2';

      const button = document.createElement('button');
      button.textContent = 'Adicionar ao Carrinho';
      button.className = 'bg-blue-500 text-white px-2 py-1 rounded';
      button.onclick = () => {
        addToCart(index, button);
      };

      productCard.appendChild(img);
      productCard.appendChild(button);
      productList.appendChild(productCard);
    });

    function addToCart(index, button) {
      button.classList.add('add-animation'); // Animação no botão
      setTimeout(() => button.classList.remove('add-animation'), 400); // Remover classe após a animação

      const existingItem = cart.find(item => item.id === index);
      if (existingItem) {
        existingItem.quantity++;
      } else {
        cart.push({ id: index, name: products[index], quantity: 1 });
      }
      updateCart();
    }

    function removeFromCart(index) {
      const itemIndex = cart.findIndex(item => item.id === index);
      if (itemIndex !== -1) {
        cart.splice(itemIndex, 1);
        updateCart();
      }
    }

    function clearCart() {
      cart.length = 0;
      total = 0;
      updateCart();
    }

    function updateCart() {
      cartElement.innerHTML = '';
      total = 0;
      cart.forEach(item => {
        total += item.quantity * 1; // Preço fixo de 1€

        const cartItem = document.createElement('div');
        cartItem.className = 'flex justify-between items-center mb-2';

        cartItem.innerHTML = `
          <span>${item.name} x ${item.quantity}</span>
          <button onclick="removeFromCart(${item.id})" class="bg-red-500 text-white px-2 py-1 rounded">Remover</button>
        `;

        cartElement.appendChild(cartItem);
      });
      cartTotalElement.textContent = 'Total: ' + total.toFixed(2) + ' €';
    }

    function checkout() {
      if (cart.length === 0) {
        alert('O carrinho está vazio!');
        return;
      }

      let message = 'Pedido via MB WAY:%0A';
      cart.forEach(item => {
        message += `${item.name} x ${item.quantity}%0A`;
      });
      message += `%0ATotal: ${total.toFixed(2)} €%0A%0AEnviar comprovativo MB WAY para o número: 912345678`;

      const phoneNumber = '351912345678'; // Substitui por o teu número MB WAY
      const whatsappURL = `https://wa.me/${phoneNumber}?text=${message}`;
      window.open(whatsappURL, '_blank');
    }
  </script>
</body>
</html>
