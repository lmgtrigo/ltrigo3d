<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8">
  <title>Loja Online</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Banner -->
  <div class="w-full">
    <img src="Navy Blue Geometric Technology LinkedIn Banner (2).png" alt="Banner da Loja" class="w-full h-72 object-cover rounded mb-4 shadow-lg">
  </div>

  <!-- Lista de Produtos -->
  <div class="container mx-auto p-4">
    <h1 class="text-3xl font-bold mb-4 text-center">Produtos</h1>
    <div id="product-list" class="grid grid-cols-2 md:grid-cols-4 gap-4"></div>

    <!-- Carrinho -->
    <div id="cart-section" class="mt-8 hidden">
      <h2 class="text-2xl font-bold mb-4">Carrinho</h2>
      <div id="cart" class="bg-white p-4 rounded shadow mt-2"></div>
      <div id="cart-total" class="text-xl font-bold mt-4"></div>
      <div class="flex mt-4 space-x-4">
        <button onclick="clearCart()" class="bg-red-500 text-white px-4 py-2 rounded w-full">Esvaziar Carrinho</button>
        <button onclick="checkout()" class="bg-green-500 text-white px-4 py-2 rounded w-full">Finalizar Pedido (MB WAY)</button>
      </div>
    </div>
  </div>

  <script>
    // Lista de produtos
    const products = [
      "1000.png", "11.PNG", "111.PNG", "apple.PNG" // Podes adicionar mais, testei com poucos para ver se funciona primeiro
    ];
    const cart = [];
    const productPrice = 34.90;

    // Adicionar produto ao carrinho
    function addToCart(product) {
      const existing = cart.find(item => item.product === product);
      if (existing) {
        existing.quantity++;
      } else {
        cart.push({ product, quantity: 1 });
      }
      updateCart();
      document.getElementById('cart-section').classList.remove('hidden');
    }

    // Atualizar carrinho
    function updateCart() {
      const cartElement = document.getElementById('cart');
      cartElement.innerHTML = ''; // Limpa o carrinho antes de renderizar

      let total = 0;

      cart.forEach((item, index) => {
        const itemTotal = item.quantity * productPrice;
        total += itemTotal;

        // Mostra produto e quantidade
        const cartItem = document.createElement('div');
        cartItem.className = 'flex justify-between items-center border-b py-2';
        cartItem.innerHTML = `
          <span>${item.product} (x${item.quantity}) - ${itemTotal.toFixed(2)} €</span>
          <button onclick="removeFromCart(${index})" class="bg-red-400 text-white px-2 py-1 rounded">Remover</button>
        `;
        cartElement.appendChild(cartItem);
      });

      document.getElementById('cart-total').innerText = 'Total: ' + total.toFixed(2) + ' €';

      // Se o carrinho estiver vazio, esconder
      if (cart.length === 0) {
        document.getElementById('cart-section').classList.add('hidden');
      }
    }

    // Remover item do carrinho
    function removeFromCart(index) {
      cart.splice(index, 1);
      updateCart();
    }

    // Esvaziar carrinho
    function clearCart() {
      cart.length = 0;
      updateCart();
    }

    // Finalizar compra
    function checkout() {
      const total = cart.reduce((sum, item) => sum + item.quantity * productPrice, 0);
      alert('Pedido MB WAY no valor de ' + total.toFixed(2) + ' € foi gerado!');
      clearCart();
    }

    // Renderizar produtos
    function renderProducts() {
      const productList = document.getElementById('product-list');
      productList.innerHTML = ''; // Limpar antes de renderizar

      products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.className = 'bg-white p-2 rounded shadow';
        productCard.innerHTML = `
          <img src="${product}" alt="${product}" class="w-full h-56 object-cover rounded">
          <p class="mt-2 text-center font-bold">${productPrice.toFixed(2)} €</p>
          <button class="mt-2 bg-blue-500 text-white w-full py-1 rounded">Adicionar</button>
        `;

        // Adicionar evento ao botão
        productCard.querySelector('button').addEventListener('click', () => addToCart(product));

        productList.appendChild(productCard);
      });
    }

    // Chamar a função para renderizar os produtos ao carregar a página
    renderProducts();

  </script>

</body>
</html>
